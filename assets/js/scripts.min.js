/*! lasourisetlepiano-2015 - v1.0.0 - 2015-07-23
* Copyright (c) 2015 ; Licensed  */
function removePhoneHref(a){if($("html").hasClass("no-touch")){var b=$(a),c=b.html();b.parent().append(c),b.remove()}}function sameSize(a,b,c,d){$(b).css(c,$(a).outerHeight()*d)}function hideClass(a){$(a).hide()}function toggleBullet(a){var b=$(a).find("li"),c=0,d=1300,e=[];b.addClass("hidden-diapo-list"),jQuery(b).each(function(a){var f=jQuery(this);e[c]=setTimeout(function(){b.addClass("hidden-diapo-list").removeClass("visible-diapo-list"),f.removeClass("hidden-diapo-list").addClass("visible-diapo-list")},c*d),c++})}function resizeMap(a){document.getElementById(a)&&$(window).resize(function(b){setTimeout(initialisationGMap(a),1e3)})}function displayInfoWindow(a,b,c,d){google.maps.event.addListener(b,d,function(){c.setContent(b.messageContent),c.open(a,b)})}function initialisationGMap(a){if(document.getElementById(a))if($("#"+a).css("background","url("+imageFolder+"map/loader.gif) center center no-repeat"),$("html").hasClass("no-touch")){$("#mapWrapperLink").removeAttr("href",""),sameSize("#hcard-la_souris_et_le_piano","#"+a,"padding-top",1.3);var b,c=new google.maps.LatLng(48.8655,2.392),d=new google.maps.LatLng(48.86615,2.39425),e=new google.maps.LatLng(48.8648,2.394655),f=new google.maps.LatLng(48.86482,2.398335),g=imageFolder;g+=$("html").hasClass("no-svg")?"map/location-coordonnees.png":"map/location-coordonnees.svg",b=$("#"+a).width()<650?15:16;var h,i,j,k=new google.maps.MarkerImage(g,new google.maps.Size(70,70),new google.maps.Point(0,0)),l=new google.maps.MarkerImage(g,new google.maps.Size(40,40),new google.maps.Point(10,75)),m={zoom:b,center:c,mapTypeId:google.maps.MapTypeId.ROADMAP},n=new google.maps.Map(document.getElementById(a),m),o=new google.maps.InfoWindow;h=new google.maps.Marker({icon:k,position:d,map:n,messageTitle:"La souris et le piano",messageContent:"C'est ici!"}),i=new google.maps.Marker({icon:l,position:f,map:n,messageTitle:"Métro 3 et 3bis Gambetta",messageContent:"Sortie place Gambetta ou Mairie du 20ème"}),j=new google.maps.Marker({icon:l,position:e,map:n,messageTitle:"Métro 3 et 3bis Gambetta",messageContent:"Sortie place Martin Nadaud"});var p,q,r=[h,i,j];for(p=r.length-1;p>=0;p--)q='<div class="infowindow"><span><strong>'+r[p].messageTitle+"</strong><br/></span>",r[p].messageContent=q+"<span>"+r[p].messageContent+"</span></div>",displayInfoWindow(n,r[p],o,"mouseover")}else $("#"+a).css("background-image","url("+imageFolder+"map/mapHd.png)"),$("#"+a).click(function(){window.open("http://goo.gl/maps/RgCDv")})}function loadVideo(a){document.getElementsByClassName(a)&&($(".video-player").append('<div class="embed-video"></div>'),$(".video-player").click(function(a){a.stopPropagation();var b=document.getElementById(this.id),c=$(b).attr("data-videohost"),d=$(b).attr("data-source"),e=$(b).parent().width(),f=.52734375*e;"youtube"==c?(videoId=d.replace("http://youtu.be/",""),videoId=d.replace("https://youtu.be/",""),iframe="<iframe width='"+e+" 'height='"+f+"' src='http://www.youtube.com/embed/"+videoId+"?autoplay=1&amp;rel=0' frameborder='0' allowfullscreen></iframe>",$(b).children(".embed-video").html(iframe)):"vimeo"==c?(videoId=d.replace("http://vimeo.com/",""),iframe="<iframe src='http://player.vimeo.com/video/"+videoId+"?title=0&amp;byline=0&amp;portrait=0&amp;autoplay=1' width='"+e+"' height='"+f+"'' frameborder='0' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>",$(b).children(".embed-video").html(iframe)):$(b).children(".embed-video").html("<h1>Impossible de jouer la vidéo pour le moment")}))}function writeCookie(a,b,c){var d,e;c?(d=new Date,d.setTime(d.getTime()+24*c*60*60*1e3),e="; expires="+d.toGMTString()):e="",document.cookie=a+"="+b+e+"; path=/"}function readCookie(a){var b=document.cookie,c=b.indexOf(""+a+"=");if(-1===c&&(c=b.indexOf(a+"=")),-1===c)b=null;else{c=b.indexOf("=",c)+1;var d=b.indexOf(";",c);-1===d&&(d=b.length),b=unescape(b.substring(c,d))}return b}function setCookieOnCloseAlert(a,b){document.getElementById(a)&&(readCookie(a)===b?$("#"+a).hide():$("#"+a+" .close").click(function(){writeCookie(a,b,1)}))}var themeName="lasourisetlepiano-2013",jsFilePath=$("script[src*=scripts]").attr("src"),jsFolderPath=jsFilePath.substring(0,jsFilePath.lastIndexOf("/"))+"/",wpDirectory=jsFolderPath.replace("wp-content/themes/"+themeName+"/assets/js/",""),homeUrl=wpDirectory.replace("wp/",""),cssFolder=jsFolderPath.replace("js/","css/"),imageFolder=jsFolderPath.replace("js/","img/");!function(a){a("document").ready(function(){a.fn.setAllToMaxHeight=function(){return this.height(Math.max.apply(this,a.map(this,function(b){return a(b).height()})))},a(".desc--realisation").setAllToMaxHeight(),toggleBullet("#creation-diapo-list"),removePhoneHref(".phone-link"),removePhoneHref(".skype-link"),initialisationGMap("map"),resizeMap("map"),readCookie("alert-development"),setCookieOnCloseAlert("alert-development","already-seen"),loadVideo("video-wrapper")})}(jQuery);